/*
 * Support for OmniVision OV2722 1080p HD camera sensor.
 *
 * Copyright (c) 2010 Intel Corporation. All Rights Reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License version
 * 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
 * 02110-1301, USA.
 *
 */

#ifndef __OV2722_H__
#define __OV2722_H__
#include <linux/kernel.h>
#include <linux/types.h>
#include <linux/i2c.h>
#include <linux/delay.h>
#include <linux/videodev2.h>
#include <linux/spinlock.h>
#include <media/v4l2-subdev.h>
#include <media/v4l2-device.h>
#include <media/v4l2-chip-ident.h>
#include <linux/v4l2-mediabus.h>
#include <media/media-entity.h>

#include <linux/atomisp_platform.h>

#define OV2722_NAME		"ov2722"
#define OV2722_I2C_ADDR		(0x36)
#define OV2722_MCLK		192

#define	LAST_REG_SETING	{0xffff, 0xff}
#define	is_last_reg_setting(item)	((item).reg == 0xffff)
#define OV2722_TIMING_X_INC		0x3814
#define OV2722_TIMING_Y_INC		0x3815
#define OV2722_FOCAL_LENGTH_NUM	158	/*4.39mm*/
#define OV2722_FOCAL_LENGTH_DEM	100
#define OV2722_F_NUMBER_DEFAULT_NUM	20
#define OV2722_F_NUMBER_DEM	10
#define OV2722_BIN_FACTOR_MAX	2

#define OV2722_X_ADDR_MIN	0X1180
#define OV2722_Y_ADDR_MIN	0X1182
#define OV2722_X_ADDR_MAX	0X1184
#define OV2722_Y_ADDR_MAX	0X1186

#define OV2722_PLL2_PREDIV			0x3037
#define OV2722_PLL2_MULTIPLIER			0x3036
#define OV2722_PLL2_DIVS			0x3038
#define OV2722_PLL2_SCALE_DIVM			0x3035
#define OV2722_PLL2_SYS_DIV			0x3037
#define OV2722_PLL2_BIT_DIV			0x3034
#define OV2722_TIMING_HTS_H			0x380C
#define OV2722_TIMING_HTS_L			0x380D
#define OV2722_TIMING_VTS_H			0x380E
#define OV2722_TIMING_VTS_L			0x380F


#define OV2722_MIN_FRAME_LENGTH_LINES	0x1140
#define OV2722_MAX_FRAME_LENGTH_LINES	0x1142
#define OV2722_MIN_LINE_LENGTH_PCK	0x1144
#define OV2722_MAX_LINE_LENGTH_PCK	0x1146
#define OV2722_MIN_LINE_BLANKING_PCK	0x1148
#define OV2722_MIN_FRAME_BLANKING_LINES 0x114A
#define OV2722_X_OUTPUT_SIZE	0x034C
#define OV2722_Y_OUTPUT_SIZE	0x034E

#define OV2722_CROP_X_START_HIGH		0x3800
#define OV2722_CROP_X_START_LOW		0x3801
#define OV2722_CROP_Y_START_HIGH		0x3802
#define OV2722_CROP_Y_START_LOW		0x3803
#define OV2722_CROP_X_END_HIGH			0x3804
#define OV2722_CROP_X_END_LOW			0x3805
#define OV2722_CROP_Y_END_HIGH			0x3806
#define OV2722_CROP_Y_END_LOW			0x3807
#define OV2722_OUTPUT_WIDTH_HIGH		0x3808
#define OV2722_OUTPUT_WIDTH_LOW		0x3809
#define OV2722_OUTPUT_HEIGHT_HIGH		0x380a
#define OV2722_OUTPUT_HEIGHT_LOW		0x380b

#define LILP3_INFO				2
#define LILP3_DEBUG				1

/*
 * focal length bits definition:
 * bits 31-16: numerator, bits 15-0: denominator
 */
#define OV2722_FOCAL_LENGTH_DEFAULT 0x9E0064

/*
 * current f-number bits definition:
 * bits 31-16: numerator, bits 15-0: denominator
 */
#define OV2722_F_NUMBER_DEFAULT 0x14000a

/*
 * f-number range bits definition:
 * bits 31-24: max f-number numerator
 * bits 23-16: max f-number denominator
 * bits 15-8: min f-number numerator
 * bits 7-0: min f-number denominator
 */
#define OV2722_F_NUMBER_RANGE 0x180a180a


/*
 * if register address or register width is not 32 bit width,
 * user needs to convert it manually
 */
struct s_register_setting {
	u32	reg;
	u32	val;
};

struct s_output_format {
	struct v4l2_format v4l2_fmt;
	int fps;
};


#define	v4l2_format_capture_type_entry(_width, _height, \
		_pixelformat, _bytesperline, _colorspace) \
	{\
		.type = V4L2_BUF_TYPE_VIDEO_CAPTURE,\
		.fmt.pix.width = (_width),\
		.fmt.pix.height = (_height),\
		.fmt.pix.pixelformat = (_pixelformat),\
		.fmt.pix.bytesperline = (_bytesperline),\
		.fmt.pix.colorspace = (_colorspace),\
		.fmt.pix.sizeimage = (_height)*(_bytesperline),\
	}

#define	s_output_format_entry(_width, _height, _pixelformat, \
		_bytesperline, _colorspace, _fps) \
	{\
		.v4l2_fmt = v4l2_format_capture_type_entry(_width, \
			_height, _pixelformat, _bytesperline, \
				_colorspace),\
		.fps = (_fps),\
	}

#define	s_output_format_reg_entry(_width, _height, _pixelformat, \
		_bytesperline, _colorspace, _fps, _reg_setting) \
	{\
		.s_fmt = s_output_format_entry(_width, _height,\
				_pixelformat, _bytesperline, \
				_colorspace, _fps),\
		.reg_setting = (_reg_setting),\
	}

struct s_ctrl_id {
	struct v4l2_queryctrl qc;
	int (*s_ctrl)(struct v4l2_subdev *sd, u32 val);
	int (*g_ctrl)(struct v4l2_subdev *sd, u32 *val);
};

#define	v4l2_queryctrl_entry_integer(_id, _name,\
		_minimum, _maximum, _step, \
		_default_value, _flags)	\
	{\
		.id = (_id), \
		.type = V4L2_CTRL_TYPE_INTEGER, \
		.name = _name, \
		.minimum = (_minimum), \
		.maximum = (_maximum), \
		.step = (_step), \
		.default_value = (_default_value),\
		.flags = (_flags),\
	}
#define	v4l2_queryctrl_entry_boolean(_id, _name,\
		_default_value, _flags)	\
	{\
		.id = (_id), \
		.type = V4L2_CTRL_TYPE_BOOLEAN, \
		.name = _name, \
		.minimum = 0, \
		.maximum = 1, \
		.step = 1, \
		.default_value = (_default_value),\
		.flags = (_flags),\
	}

#define	s_ctrl_id_entry_integer(_id, _name, \
		_minimum, _maximum, _step, \
		_default_value, _flags, \
		_s_ctrl, _g_ctrl)	\
	{\
		.qc = v4l2_queryctrl_entry_integer(_id, _name,\
				_minimum, _maximum, _step,\
				_default_value, _flags), \
		.s_ctrl = _s_ctrl, \
		.g_ctrl = _g_ctrl, \
	}

#define	s_ctrl_id_entry_boolean(_id, _name, \
		_default_value, _flags, \
		_s_ctrl, _g_ctrl)	\
	{\
		.qc = v4l2_queryctrl_entry_boolean(_id, _name,\
				_default_value, _flags), \
		.s_ctrl = _s_ctrl, \
		.g_ctrl = _g_ctrl, \
	}

/* for debug */
struct macro_string {
	u8	val;
	char	*string;
};

#define	macro_string_entry(VAL)	\
	{.val = VAL, .string = #VAL}

static inline const char *macro_to_string(
		const struct macro_string *array,
		int size, u8 val)
{
	int i;
	for (i = 0; i < size; i++) {
		if (array[i].val == val)
			return array[i].string;
	}
	return "Unknown VAL";
}
struct otp_struct {
	int customer_id;
	int module_integrator_id;
	int lens_id;
	int rg_ratio;
	int bg_ratio;
	int user_data[2];
	int light_rg;
	int light_bg;
};
struct otp_struct current_otp;

/*
 * Register settings for various resolution
 */

static const struct s_register_setting ov2722_BasicSettings[] = {
	//@1936x1092 24fps for mclk=19.2Mhz with vblank=8.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		{0x0103, 0x01},
		{0x3718, 0x10},
		{0x3702, 0x24},
		{0x373a, 0x60},
		{0x3715, 0x01},
		{0x3703, 0x2e},
		{0x3705, 0x2b},
		{0x3730, 0x30},
		{0x3704, 0x62},
		{0x3f06, 0x3a},
		{0x371c, 0x00},
		{0x371d, 0xc4},
		{0x371e, 0x01},
		{0x371f, 0x28},
		{0x3708, 0x61},
		{0x3709, 0x12},

		//resolution_1928x1094
		{0x3800, 0x00},
		{0x3801, 0x08},
		{0x3802, 0x00},
		{0x3803, 0x00},
		{0x3804, 0x07},
		{0x3805, 0x9b},
		{0x3806, 0x04},
		{0x3807, 0x47},
		{0x3808, 0x07},
		{0x3809, 0x90},
		{0x380a, 0x04},
		{0x380b, 0x48},
		{0x380c, 0x08},
		{0x380d, 0x68},
		{0x380e, 0x05},
		{0x380f, 0x60},
		{0x3810, 0x00},
		{0x3811, 0x03},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_1080P_24fps[] = {
	//@1936x1092 24fps for mclk=19.2Mhz with vblank=8.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1928x1094
		{0x3800, 0x00},
		{0x3801, 0x08},
		{0x3802, 0x00},
		{0x3803, 0x00},
		{0x3804, 0x07},
		{0x3805, 0x9b},
		{0x3806, 0x04},
		{0x3807, 0x47},
		{0x3808, 0x07},
		{0x3809, 0x90},
		{0x380a, 0x04},
		{0x380b, 0x48},
		{0x380c, 0x08},
		{0x380d, 0x68},
		{0x380e, 0x05},
		{0x380f, 0x60},
		{0x3810, 0x00},
		{0x3811, 0x03},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_FullHD_PREVIEW_24fps[] = {
	//@1824x1092 24fps for mclk=19.2Mhz with vblank=8.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:should be 1836x1092?
	//
	//
	//
	//=============================================================

		//resoluution_1824x1092
		{0x3800, 0x00},
		{0x3801, 0x40},
		{0x3802, 0x00},
		{0x3803, 0x00},
		{0x3804, 0x07},
		{0x3805, 0x9b},
		{0x3806, 0x04},
		{0x3807, 0x47},
		{0x3808, 0x07},
		{0x3809, 0x20},
		{0x380a, 0x04},
		{0x380b, 0x44},
		{0x380c, 0x08},
		{0x380d, 0x68},
		{0x380e, 0x05},
		{0x380f, 0x60},
		{0x3810, 0x00},
		{0x3811, 0x03},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

	LAST_REG_SETING,
};

static const struct s_register_setting ov2722_UXGA_PREVIEW_24fps[] = {
	//@1336x1092 24fps for mclk=19.2Mhz with vblank=8.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1336x1092
		{0x3800, 0x01},
		{0x3801, 0x38},
		{0x3802, 0x00},
		{0x3803, 0x00},
		{0x3804, 0x07},
		{0x3805, 0x9b},
		{0x3806, 0x04},
		{0x3807, 0x47},
		{0x3808, 0x05},
		{0x3809, 0x38},
		{0x380a, 0x04},
		{0x380b, 0x44},
		{0x380c, 0x08},
		{0x380d, 0x60},
		{0x380e, 0x04},
		{0x380f, 0x60},
		{0x3810, 0x00},
		{0x3811, 0x03},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};
static const struct s_register_setting ov2722_1456_1092_24fps[] = {
	//@1456x1092 24fps for mclk=19.2Mhz with vblank=10.9ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1456x1092_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1456x1092
		{0x3800, 0x00},
		{0x3801, 0xfc},
		{0x3802, 0x00},
		{0x3803, 0x00},
		{0x3804, 0x07},
		{0x3805, 0x9b},
		{0x3806, 0x04},
		{0x3807, 0x47},
		{0x3808, 0x05},
		{0x3809, 0xb0},
		{0x380a, 0x04},
		{0x380b, 0x44},
		{0x380c, 0x08},
		{0x380d, 0x68},
		{0x380e, 0x05},
		{0x380f, 0x60},
		{0x3810, 0x00},
		{0x3811, 0x03},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_720P_30fps[] = {
	//@1296x736 30fps for mclk=19.2Mhz with vblank=10.9ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1296x736
		{0x3800, 0x01},
		{0x3801, 0x3c},
		{0x3802, 0x00},
		{0x3803, 0xac},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x05},
		{0x3809, 0x10},
		{0x380a, 0x02},
		{0x380b, 0xe0},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_HD1_PREVIEW_30fps[] = {
	//@1216x736 30fps for mclk=19.2Mhz with vblank=10.9ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1216x736
		{0x3800, 0x01},
		{0x3801, 0x64},
		{0x3802, 0x00},
		{0x3803, 0xac},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x04},
		{0x3809, 0xc0},
		{0x380a, 0x02},
		{0x380b, 0xe0},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_HD2_PREVIEW_30fps[] = {
	//@1040x592 30fps for mclk=19.2Mhz with vblank=15.3ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1040x592
		{0x3800, 0x01},
		{0x3801, 0xbc},
		{0x3802, 0x00},
		{0x3803, 0xf8},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x04},
		{0x3809, 0x10},
		{0x380a, 0x02},
		{0x380b, 0x50},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_HD3_PREVIEW_30fps[] = {
	//@976x736 30fps for mclk=19.2Mhz with vblank=10.9ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_976x736
		{0x3800, 0x01},
		{0x3801, 0xdc},
		{0x3802, 0x00},
		{0x3803, 0xac},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x03},
		{0x3809, 0xd0},
		{0x380a, 0x02},
		{0x380b, 0xe0},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_HD4_PREIVEW_30fps[] = {
	//@896x736 30fps for mclk=19.2Mhz with vblank=10.9ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_896x736
		{0x3800, 0x02},
		{0x3801, 0x00},
		{0x3802, 0x00},
		{0x3803, 0xac},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x03},
		{0x3809, 0x80},
		{0x380a, 0x02},
		{0x380b, 0xe0},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_SVGA_30fps[] = {
	//@824x616 30fps for mclk=19.2Mhz with vblank=14.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_824x616
		{0x3800, 0x02},
		{0x3801, 0x28},
		{0x3802, 0x00},
		{0x3803, 0xe8},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x03},
		{0x3809, 0x38},
		{0x380a, 0x02},
		{0x380b, 0x68},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_WVGA_30fps[] = {
	//@816x496 30fps for mclk=19.2Mhz with vblank=18.2ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_816x496
		{0x3800, 0x02},
		{0x3801, 0x28},
		{0x3802, 0x01},
		{0x3803, 0x24},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x03},
		{0x3809, 0x30},
		{0x380a, 0x01},
		{0x380b, 0xf0},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x60},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_D1_PREVIEW_30fps[] = {
	//@736x496 30fps for mclk=19.2Mhz with vblank=18.2ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_736x496
		{0x3800, 0x02},
		{0x3801, 0x50},
		{0x3802, 0x01},
		{0x3803, 0x24},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x02},
		{0x3809, 0xe0},
		{0x380a, 0x01},
		{0x380b, 0xf0},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_VGA_PREVIEW_30fps[] = {
	//@656x496 30fps for mclk=19.2Mhz with vblank=16.8ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_656x496
		{0x3800, 0x01},
		{0x3801, 0x22},
		{0x3802, 0x00},
		{0x3803, 0x1c},
		{0x3804, 0x06},
		{0x3805, 0x61},
		{0x3806, 0x04},
		{0x3807, 0x08},
		{0x3808, 0x02},
		{0x3809, 0x90},
		{0x380a, 0x01},
		{0x380b, 0xf0},
		{0x380c, 0x06},
		{0x380d, 0x40},
		{0x380e, 0x03},
		{0x380f, 0xe8},
		{0x3810, 0x00},
		{0x3811, 0x0f},
		{0x3812, 0x00},
		{0x3813, 0x02},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x31},
		{0x3815, 0x31},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0xcc},
		{0x3a0a, 0x01},
		{0x3a0b, 0x7f},
		{0x3a0d, 0x01},
		{0x3a0e, 0x01},
		{0x4520, 0x09},
		{0x4837, 0x29},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x10},
		{0x3036, 0x19},
		{0x3037, 0x21},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_CIF_PREVIEW_30fps[] = {
	//@368x304 30fps for mclk=19.2Mhz with vblank=20.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_368x304
		{0x3800, 0x02},
		{0x3801, 0x1a},
		{0x3802, 0x00},
		{0x3803, 0xd0},
		{0x3804, 0x05},
		{0x3805, 0x49},
		{0x3806, 0x03},
		{0x3807, 0x48},
		{0x3808, 0x01},
		{0x3809, 0x70},
		{0x380a, 0x01},
		{0x380b, 0x30},
		{0x380c, 0x03},
		{0x380d, 0xd4},
		{0x380e, 0x03},
		{0x380f, 0x1e},
		{0x3810, 0x00},
		{0x3811, 0x15},
		{0x3812, 0x00},
		{0x3813, 0x02},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x31},
		{0x3815, 0x31},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0x8c},
		{0x3a0a, 0x01},
		{0x3a0b, 0x4a},
		{0x3a0d, 0x00},
		{0x3a0e, 0x00},
		{0x4520, 0x09},
		{0x4837, 0x52},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x20},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_QVGA_PREVIEW_30fps[] = {
	//@336x256 30fps for mclk=19.2Mhz with vblank=22.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_336x256
		{0x3800, 0x00},
		{0x3801, 0xf6},
		{0x3802, 0x00},
		{0x3803, 0x00},
		{0x3804, 0x06},
		{0x3805, 0x6d},
		{0x3806, 0x04},
		{0x3807, 0x08},
		{0x3808, 0x01},
		{0x3809, 0x50},
		{0x380a, 0x01},
		{0x380b, 0x00},
		{0x380c, 0x03},
		{0x380d, 0xd4},
		{0x380e, 0x03},
		{0x380f, 0x1e},
		{0x3810, 0x00},
		{0x3811, 0x0d},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x71},
		{0x3815, 0x71},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0xc3},
		{0x3a0a, 0x01},
		{0x3a0b, 0x77},
		{0x3a0d, 0x00},
		{0x3a0e, 0x00},
		{0x4520, 0x09},
		{0x4837, 0x52},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x20},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_1M_STILL_30fps[] = {
	//@1040x784 30fps for mclk=19.2Mhz with vblank=9.5ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1040x784
		{0x3800, 0x01},
		{0x3801, 0xbc},
		{0x3802, 0x00},
		{0x3803, 0x7c},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x04},
		{0x3809, 0x10},
		{0x380a, 0x03},
		{0x380b, 0x10},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_VGA_STILL_30fps[] = {
	//@672x504 30fps for mclk=19.2Mhz with vblank=16.5ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_672x504
		{0x3800, 0x01},
		{0x3801, 0x08},
		{0x3802, 0x00},
		{0x3803, 0x00},
		{0x3804, 0x06},
		{0x3805, 0x61},
		{0x3806, 0x04},
		{0x3807, 0x08},
		{0x3808, 0x02},
		{0x3809, 0xa0},
		{0x380a, 0x01},
		{0x380b, 0xf8},
		{0x380c, 0x06},
		{0x380d, 0x40},
		{0x380e, 0x03},
		{0x380f, 0xe8},
		{0x3810, 0x00},
		{0x3811, 0x0c},
		{0x3812, 0x00},
		{0x3813, 0x06},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x31},
		{0x3815, 0x31},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0xcc},
		{0x3a0a, 0x01},
		{0x3a0b, 0x7f},
		{0x3a0d, 0x01},
		{0x3a0e, 0x01},
		{0x4520, 0x09},
		{0x4837, 0x29},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x10},
		{0x3036, 0x19},
		{0x3037, 0x21},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_QVGA_30fps[] = {
	//@408x308 30fps for mclk=19.2Mhz with vblank=20.4ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_408x308
		{0x3800, 0x01},
		{0x3801, 0xea},
		{0x3802, 0x00},
		{0x3803, 0xc8},
		{0x3804, 0x05},
		{0x3805, 0x49},
		{0x3806, 0x03},
		{0x3807, 0x48},
		{0x3808, 0x01},
		{0x3809, 0x98},
		{0x380a, 0x01},
		{0x380b, 0x34},
		{0x380c, 0x03},
		{0x380d, 0xd4},
		{0x380e, 0x03},
		{0x380f, 0x1e},
		{0x3810, 0x00},
		{0x3811, 0x17},
		{0x3812, 0x00},
		{0x3813, 0x02},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x31},
		{0x3815, 0x31},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0x8c},
		{0x3a0a, 0x01},
		{0x3a0b, 0x4a},
		{0x3a0d, 0x00},
		{0x3a0e, 0x00},
		{0x4520, 0x09},
		{0x4837, 0x52},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x20},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_D1_Video_30fps[] = {
	//@936x602 30fps for mclk=19.2Mhz with vblank=15ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_936x602
		{0x3800, 0x01},
		{0x3801, 0xf0},
		{0x3802, 0x00},
		{0x3803, 0xec},
		{0x3804, 0x06},
		{0x3805, 0x55},
		{0x3806, 0x03},
		{0x3807, 0x8d},
		{0x3808, 0x03},
		{0x3809, 0xa8},
		{0x380a, 0x02},
		{0x380b, 0x5a},
		{0x380c, 0x08},
		{0x380d, 0x5e},
		{0x380e, 0x04},
		{0x380f, 0x4c},
		{0x3810, 0x00},
		{0x3811, 0x09},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_CIF_Video_30fps[] = {
//@440x348 30fps for mclk=19.2Mhz with vblank=18.7ms
//OmniVision Technologies Inc.
//Sensor Setting Release Log
//=============================================================
//Sensor 	: OV2722
//Setting Rev	: R1A_AM06
//Format		: MIPI_10bit_1928x1090_1lane
//=============================================================
//Notes:should be 442x348
//
//
//
//=============================================================

		//resolution_440x348
		{0x3800, 0x01},
		{0x3801, 0xa9},
		{0x3802, 0x00},
		{0x3803, 0x80},
		{0x3804, 0x05},
		{0x3805, 0x49},
		{0x3806, 0x03},
		{0x3807, 0x48},
		{0x3808, 0x01},
		{0x3809, 0xb8},
		{0x380a, 0x01},
		{0x380b, 0x5c},
		{0x380c, 0x03},
		{0x380d, 0xd4},
		{0x380e, 0x03},
		{0x380f, 0x1e},
		{0x3810, 0x00},
		{0x3811, 0x17},
		{0x3812, 0x00},
		{0x3813, 0x02},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x31},
		{0x3815, 0x31},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0x8c},
		{0x3a0a, 0x01},
		{0x3a0b, 0x4a},
		{0x3a0d, 0x00},
		{0x3a0e, 0x00},
		{0x4520, 0x09},
		{0x4837, 0x52},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x20},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_720P_Video_30fps[] = {
	//@1568x880 30fps for mclk=19.2Mhz with vblank=8ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1568x880
		{0x3800, 0x00},
		{0x3801, 0xb8},
		{0x3802, 0x00},
		{0x3803, 0x68},
		{0x3804, 0x07},
		{0x3805, 0x9b},
		{0x3806, 0x04},
		{0x3807, 0x47},
		{0x3808, 0x06},
		{0x3809, 0x20},
		{0x380a, 0x03},
		{0x380b, 0x70},
		{0x380c, 0x08},
		{0x380d, 0x00},
		{0x380e, 0x04},
		{0x380f, 0x86},
		{0x3810, 0x00},
		{0x3811, 0x03},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_WVGA_Strong_Video_24fps[] = {
	//@1640x1024 24fps for mclk=19.2Mhz with vblank=8.6ms
	//OmniVision Technologies Inc.
	//Sensor Setting Release Log
	//=============================================================
	//Sensor	: OV2722
	//Setting Rev	: R1A_AM06
	//Format		: MIPI_10bit_1928x1090_1lane
	//=============================================================
	//Notes:
	//
	//
	//
	//=============================================================

		//resolution_1640x1024
		{0x3800, 0x00},
		{0x3801, 0x98},
		{0x3802, 0x00},
		{0x3803, 0x20},
		{0x3804, 0x07},
		{0x3805, 0x9b},
		{0x3806, 0x04},
		{0x3807, 0x47},
		{0x3808, 0x06},
		{0x3809, 0x68},
		{0x380a, 0x04},
		{0x380b, 0x00},
		{0x380c, 0x08},
		{0x380d, 0x68},
		{0x380e, 0x05},
		{0x380f, 0x60},
		{0x3810, 0x00},
		{0x3811, 0x03},
		{0x3812, 0x00},
		{0x3813, 0x00},

		{0x3820, 0x80},
		{0x3821, 0x06},
		{0x3814, 0x11},
		{0x3815, 0x11},
		{0x3612, 0x4b},
		{0x3618, 0x04},

		{0x3a08, 0x01},
		{0x3a09, 0x50},
		{0x3a0a, 0x01},
		{0x3a0b, 0x18},
		{0x3a0d, 0x03},
		{0x3a0e, 0x03},
		{0x4520, 0x00},
		{0x4837, 0x1b},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x00},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_QCIF_Video_30fps[] = {
//@216x176 30fps for mclk=19.2Mhz with vblank=25.9ms
//OmniVision Technologies Inc.
//Sensor Setting Release Log
//=============================================================
//Sensor 	: OV2722
//Setting Rev	: R1A_AM06
//Format		: MIPI_10bit_1928x1090_1lane
//=============================================================
//Notes:
//
//
//
//=============================================================

		//resolution_216x176
		{0x3800, 0x01},
		{0x3801, 0x36},
		{0x3802, 0x00},
		{0x3803, 0x40},
		{0x3804, 0x06},
		{0x3805, 0x6d},
		{0x3806, 0x04},
		{0x3807, 0x08},
		{0x3808, 0x00},
		{0x3809, 0xD8},
		{0x380a, 0x00},
		{0x380b, 0xB0},
		{0x380c, 0x03},
		{0x380d, 0xD4},
		{0x380e, 0x03},
		{0x380f, 0x14},
		{0x3810, 0x00},
		{0x3811, 0x41},
		{0x3812, 0x00},
		{0x3813, 0x22},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x71},
		{0x3815, 0x71},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0xc3},
		{0x3a0a, 0x01},
		{0x3a0b, 0x77},
		{0x3a0d, 0x00},
		{0x3a0e, 0x00},
		{0x4520, 0x09},
		{0x4837, 0x52},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x20},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

static const struct s_register_setting ov2722_QCIF_PREVIEW_30fps[] = {
//@192x160 30fps for mclk=19.2Mhz with vblank=30.7ms
//OmniVision Technologies Inc.
//Sensor Setting Release Log
//=============================================================
//Sensor 	: OV2722
//Setting Rev	: R1A_AM06
//Format		: MIPI_10bit_1928x1090_1lane
//=============================================================
//Notes:
//
//
//
//=============================================================

		//resolutiotion_192x160
		{0x3800, 0x01},
		{0x3801, 0x36},
		{0x3802, 0x00},
		{0x3803, 0x40},
		{0x3804, 0x06},
		{0x3805, 0x6d},
		{0x3806, 0x04},
		{0x3807, 0x08},
		{0x3808, 0x00},
		{0x3809, 0xC0},
		{0x380a, 0x00},
		{0x380b, 0xA0},
		{0x380c, 0x03},
		{0x380d, 0xD4},
		{0x380e, 0x03},
		{0x380f, 0x14},
		{0x3810, 0x00},
		{0x3811, 0x41},
		{0x3812, 0x00},
		{0x3813, 0x22},

		{0x3820, 0xc0},
		{0x3821, 0x07},
		{0x3814, 0x71},
		{0x3815, 0x71},
		{0x3612, 0x49},
		{0x3618, 0x00},

		{0x3a08, 0x01},
		{0x3a09, 0xc3},
		{0x3a0a, 0x01},
		{0x3a0b, 0x77},
		{0x3a0d, 0x00},
		{0x3a0e, 0x00},
		{0x4520, 0x09},
		{0x4837, 0x52},
		{0x3000, 0xff},
		{0x3001, 0xff},
		{0x3002, 0xf0},
		{0x3600, 0x08},
		{0x3621, 0xc0},
		{0x3632, 0x53},
		{0x3633, 0x63},
		{0x3634, 0x24},
		{0x3f01, 0x0c},
		{0x5001, 0xc1},
		{0x3614, 0xf0},
		{0x3630, 0x2d},
		{0x370b, 0x62},
		{0x3706, 0x61},
		{0x4000, 0x02},
		{0x4002, 0xc5},
		{0x4005, 0x08},
		{0x404f, 0x84},
		{0x4051, 0x00},
		{0x5000, 0xcd},
		{0x3a18, 0x00},
		{0x3a19, 0x80},
		{0x3503, 0x00},
		{0x4521, 0x00},
		{0x5183, 0xb0},
		{0x5184, 0xb0},
		{0x5185, 0xb0},
		{0x370c, 0x0c},

		{0x3035, 0x20},
		{0x3036, 0x25},
		{0x3037, 0xa1},
		{0x303e, 0x19},
		{0x3038, 0x06},
		{0x3018, 0x04},
		{0x3000, 0x00},
		{0x3001, 0x00},
		{0x3002, 0x00},
		{0x3a0f, 0x40},
		{0x3a10, 0x38},
		{0x3a1b, 0x48},
		{0x3a1e, 0x30},
		{0x3a11, 0x90},
		{0x3a1f, 0x10},
		{0x3011, 0x22},
		{0x3a00, 0x58},
		{0x4800, 0x24},

		LAST_REG_SETING,
};

#define	OV2722_NAME	"ov2722"
#define	OV2722_ADDR	0x36
#define OV2722_ID	0x2722

/* This should be added into include/linux/videodev2.h */
#ifndef V4L2_IDENT_OV2722
#define V4L2_IDENT_OV2722	258
#endif

/*
 * OV2722 System control registers
 */
#define OV2722_SW_SLEEP				0x0100
#define OV2722_SW_RESET				0x0103
#define OV2722_SW_STREAM			0x0100
#define OV2722_MIPI_CTRL			0x3018

#define OV2722_SC_CMMN_CHIP_ID_H		0x300A
#define OV2722_SC_CMMN_CHIP_ID_L		0x300B
#define OV2722_SC_CMMN_SCCB_ID			0x300C
#define OV2722_SC_CMMN_SUB_ID			0x302A /* process, version*/

#define OV2722_SC_CMMN_PAD_OEN0			0x3000
#define OV2722_SC_CMMN_PAD_OEN1			0x3001
#define OV2722_SC_CMMN_PAD_OEN2			0x3002
#define OV2722_SC_CMMN_PAD_OUT0			0x3008
#define OV2722_SC_CMMN_PAD_OUT1			0x3009
#define OV2722_SC_CMMN_PAD_OUT2			0x300D
#define OV2722_SC_CMMN_PAD_SEL0			0x300E
#define OV2722_SC_CMMN_PAD_SEL1			0x300F
#define OV2722_SC_CMMN_PAD_SEL2			0x3010

#define OV2722_SC_CMMN_PAD_PK			0x3011
#define OV2722_SC_CMMN_A_PWC_PK_O_13		0x3013
#define OV2722_SC_CMMN_A_PWC_PK_O_14		0x3014

#define OV2722_SC_CMMN_CLKRST0			0x301A
#define OV2722_SC_CMMN_CLKRST1			0x301B
#define OV2722_SC_CMMN_CLKRST2			0x301C
#define OV2722_SC_CMMN_CLKRST3			0x301D
#define OV2722_SC_CMMN_CLKRST4			0x301E
#define OV2722_SC_CMMN_CLKRST5			0x3005
#define OV2722_SC_CMMN_PCLK_DIV_CTRL		0x3007
#define OV2722_SC_CMMN_CLOCK_SEL		0x3020
#define OV2722_SC_SOC_CLKRST5			0x3040

#define OV2722_SC_CMMN_PLL_CTRL0		0x3034
#define OV2722_SC_CMMN_PLL_CTRL1		0x3035
#define OV2722_SC_CMMN_PLL_CTRL2		0x3039
#define OV2722_SC_CMMN_PLL_CTRL3		0x3037
#define OV2722_SC_CMMN_PLL_MULTIPLIER		0x3036
#define OV2722_SC_CMMN_PLL_DEBUG_OPT		0x3038
#define OV2722_SC_CMMN_PLLS_CTRL0		0x303A
#define OV2722_SC_CMMN_PLLS_CTRL1		0x303B
#define OV2722_SC_CMMN_PLLS_CTRL2		0x303C
#define OV2722_SC_CMMN_PLLS_CTRL3		0x303D

#define OV2722_SC_CMMN_MIPI_PHY_16		0x3016
#define OV2722_SC_CMMN_MIPI_PHY_17		0x3017
#define OV2722_SC_CMMN_MIPI_SC_CTRL_18		0x3018
#define OV2722_SC_CMMN_MIPI_SC_CTRL_19		0x3019
#define OV2722_SC_CMMN_MIPI_SC_CTRL_21		0x3021
#define OV2722_SC_CMMN_MIPI_SC_CTRL_22		0x3022

#define OV2722_AEC_PK_EXPO_H			0x3500
#define OV2722_AEC_PK_EXPO_M			0x3501
#define OV2722_AEC_PK_EXPO_L			0x3502
#define OV2722_AEC_MANUAL_CTRL			0x3503
#define OV2722_AGC_ADJ_H			0x3508
#define OV2722_AGC_ADJ_L			0x3509
#define OV2722_TIMING_VTS_H			0x380E
#define OV2722_TIMING_VTS_L			0x380F

/*
 * ov2722 SCCB
 */
#define OV2722_SCCB_CTRL			0x3100

struct regval_list {
	u16 reg_num;
	u8 value;
};

struct ov2722_control {
	struct v4l2_queryctrl qc;
	int (*query)(struct v4l2_subdev *sd, s32 *value);
	int (*tweak)(struct v4l2_subdev *sd, int value);
};

struct ov2722_resolution {
	u8 *desc;
	int res;
	int width;
	int height;
	int fps;
	bool used;
	unsigned short pixels_per_line;
	unsigned short lines_per_frame;
	const struct s_register_setting *regs;
	unsigned short skip_frames;
};

struct ov2722_format {
	u8 *desc;
	u32 pixelformat;
	struct s_register_setting *regs;
};

#define	OV2722_STATUS_POWER_DOWN	0x0
#define	OV2722_STATUS_STANDBY		0x2
#define	OV2722_STATUS_ACTIVE		0x03/* meaning ready to output image */
#define	OV2722_STATUS_VIEWFINDER	0x4

/* ov2722 device structure */
struct ov2722_device {
	struct v4l2_subdev sd;
	struct media_pad pad;
	struct v4l2_mbus_framefmt format;

	struct camera_sensor_platform_data *platform_data;
	int fmt_idx;
	int status;
	int streaming;
	int power;
	u8 res;
	u8 type;
	u16 sensor_id;
	u8 sensor_revision;
	u16 pixels_per_line;
	u16 lines_per_frame;
	u8 fps;
	int exposure;
	int gain;
	int run_mode;
};

/*MIPI interface port*/
#define MIPI_PORT_LANE_1	0
#define MIPI_PORT_LANE_4	1

/*Bayer order transfer on the MIPI lane*/
#define BAYER_ORDER_GRBG	0
#define BAYER_ORDER_RGGB	1
#define BAYER_ORDER_BGGR	2
#define BAYER_ORDER_GBRG	3

/*Image format transfer on the MIPI lane*/
#define INPUT_FORMAT_YUV420_8_LEGACY	0
#define INPUT_FORMAT_YUV420_8		1
#define INPUT_FORMAT_YUV420_10		2
#define INPUT_FORMAT_YUV422_8		3
#define INPUT_FORMAT_YUV422_10		4
#define INPUT_FORMAT_RGB_444		5
#define INPUT_FORMAT_RGB_555		6
#define INPUT_FORMAT_RGB_565		7
#define INPUT_FORMAT_RGB_666		8
#define INPUT_FORMAT_RGB_888		9
#define INPUT_FORMAT_RAW_6		10
#define INPUT_FORMAT_RAW_7		11
#define INPUT_FORMAT_RAW_8		12
#define INPUT_FORMAT_RAW_10		13
#define INPUT_FORMAT_RAW_12		14
#define INPUT_FORMAT_RAW_14		15
#define INPUT_FORMAT_RAW_16		16
#define INPUT_FORMAT_BINARY_8		17

struct ov2722_priv_data {
	u32 port;
	u32 num_of_lane;
	u32 input_format;
	u32 raw_bayer_order;
};

#endif
